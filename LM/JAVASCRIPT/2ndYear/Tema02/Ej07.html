<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ej07</title>
</head>
<body>

    <div id="output"></div>

    <script>
        /*
        7.-Escribe un programa que verifique si un número es primo. Un número es primo si solo es divisible por 1 y
        por si mismo. Introducir el número mediante un prompt y mostrar el mensaje por consola:
        n es primo o
        n es divisible por x y z ....
        */

        // https://stackoverflow.com/questions/15471291/sieve-of-eratosthenes-algorithm-in-javascript-running-endless-for-large-number

        let n= 37;

        var eratosthenes = function(n) {
            // Eratosthenes algorithm to find all primes under n
            var array = [], upperLimit = Math.sqrt(n), output = [];

            // Make an array from 2 to (n - 1)
            for (var i = 0; i < n; i++) {
                array.push(true);
            }

            // Remove multiples of primes starting from 2, 3, 5,...
            for (var i = 2; i <= upperLimit; i++) {
                if (array[i]) {
                    for (var j = i * i; j < n; j += i) {
                        array[j] = false;
                    }
                }
            }

            // All array[i] set to true are primes
            for (var i = 2; i < n; i++) {
                if(array[i]) {
                    output.push(i);
                }
            }

            return output;
        };

        document.getElementById("output").innerHTML = eratosthenes(49).join(", ");

    </script>
</body>
</html>